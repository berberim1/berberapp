/* ===========================================================
   MOBILE / TABLET OVERRIDES – stats-and-reports.html (≤1024px)
   Sadece mobil/tablet için; masaüstüne dokunmaz
   =========================================================== */

/* 0) Yana kaymayı KAPAT */
html, body{ max-width:100%; overflow-x:hidden; }
*,
*::before,
*::after{ box-sizing:border-box; }
img, svg, canvas, video{ max-width:100%; height:auto; display:block; }

/* 1) Rail boşluğu kapat + bottom bar */
@media (max-width:1024px){
  :root{ --rail-width:0px; }
  body{ margin-left:0; }
  .wrap{ max-width:100%; padding:12px 12px 90px; margin:0 auto; }

  nav.rail{
    position:fixed !important;
    left:0; right:0; bottom:0; top:auto !important;
    width:100% !important; height:60px !important;
    border-top:1px solid var(--border); border-right:0 !important;
    background:#0f172a; z-index:5000;
    display:flex; align-items:center; justify-content:space-around;
    padding:0 6px;
  }
  nav.rail .rail__list{ display:flex; width:100%; height:100%; align-items:center; justify-content:space-around; }
  nav.rail .rail__item{ list-style:none; height:100%; flex:1; }
  nav.rail .rail__btn{
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    height:100%; gap:4px; color:#cbd5e1; border-radius:0; padding:0; flex:1;
  }
  nav.rail .rail__btn[aria-current="page"]{ color:#fff; }
  nav.rail .ico{ width:20px; height:20px; stroke:currentColor; fill:none; }
  nav.rail .rail__bottom{ display:none !important; } /* profil butonu bu sayfada yok */
}

/* 2) İçerik alt barda ezilmesin */
@media (max-width:1024px){
  .wrap{ padding-bottom:76px; }
}

/* 3) Başlık + sekmeler yapışkan */
@media (max-width:1024px){
  .header{
    position:sticky; top:0; z-index:1200;
    background:var(--page-bg);
    padding:12px 12px;
    border-bottom:1px solid var(--border);
    margin-bottom:0;
  }
  .header .title{ font-size:18px; font-weight:800; }
  .header .period .btn{ height:36px; }

  .tabs{
    position:sticky; top:56px; z-index:1190;
    background:var(--page-bg);
    border-bottom:1px solid var(--border);
    overflow:auto hidden;
    display:flex; gap:6px; padding:8px 12px; margin-bottom:12px;
  }
  .tabs .tab{ white-space:nowrap; padding:8px 10px; border-radius:10px; }
  .tabs .tab[aria-selected="true"]{ background:#fff; border:1px solid var(--border); }
}

/* 4) Gridleri tek kolona indir – aside en alta */
@media (max-width:1024px){
  .grid{ display:grid; grid-template-columns:1fr; gap:12px; }
  .grid > .right{ order:2; }
  .grid--single{ display:grid; grid-template-columns:1fr; gap:12px; }
}

/* 5) Kart içleri – yatay taşmayı engelle */
@media (max-width:1024px){
  .card.panel{ border-radius:12px; }
  .card .card-body{
    padding:14px;
    overflow-x:hidden;  /* ÖNEMLİ: auto yerine hidden */
    max-width:100%;
  }
  .card .card-title{ font-size:14px; font-weight:800; }
  .mini h4{ font-size:14px; margin:0 0 8px; }
  .kpis{ grid-template-columns:repeat(3,1fr); gap:10px; }
  .avatar{ width:28px; height:28px; border-radius:50%; background:#eef1f6; display:grid; place-items:center; font-weight:700; }
  .dot{ width:10px; height:10px; border-radius:999px; margin-right:6px; display:inline-block; }
  .bar{ width:100%; height:8px; background:#eef2f7; border-radius:999px; overflow:hidden; }
  .bar i{ display:block; height:100%; background:#16a34a; }
  /* Chart’lar taşmasın */
  .card canvas{ max-width:100% !important; }
}

/* 6) Tablolar – min-width’i kaldır, metinleri daralt */
@media (max-width:1024px){
  .table{ width:100%; min-width:0; table-layout:fixed; border-collapse:collapse; }
  .table th, .table td{ padding:8px; font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
}

/* 7) Çok kolonu olan tabloları dar ekranda sadeleştir (YAN KAYMA YOK) */
/* Randevu Listesi: müşteri, personel, tutar sütunlarını gizle */
@media (max-width:640px){
  #app-list .table th:nth-child(3),
  #app-list .table td:nth-child(3), /* Müşteri */
  #app-list .table th:nth-child(5),
  #app-list .table td:nth-child(5), /* Personel */
  #app-list .table th:nth-child(7),
  #app-list .table td:nth-child(7)  /* Tutar */
  { display:none; }
}

/* Hizmete göre satışlar: temel 1,2,6,12,13 kalsın; diğerlerini gizle */
@media (max-width:768px){
  #rev-services .table th:nth-child(3),  #rev-services .table td:nth-child(3),  /* Rez. ID */
  #rev-services .table th:nth-child(4),  #rev-services .table td:nth-child(4),  /* Müşteri */
  #rev-services .table th:nth-child(5),  #rev-services .table td:nth-child(5),  /* Süre */
  #rev-services .table th:nth-child(7),  #rev-services .table td:nth-child(7),  /* Eklenti */
  #rev-services .table th:nth-child(8),  #rev-services .table td:nth-child(8),  /* Net */
  #rev-services .table th:nth-child(9),  #rev-services .table td:nth-child(9),  /* İnd. */
  #rev-services .table th:nth-child(10), #rev-services .table td:nth-child(10), /* Vergi */
  #rev-services .table th:nth-child(11), #rev-services .table td:nth-child(11)  /* Bahşiş */
  { display:none; }
}

/* Personel tabloları: okunabilirlik için biraz sıkıştır */
@media (max-width:640px){
  #staff .table th:nth-child(3),
  #staff .table td:nth-child(3),
  #staff .table th:nth-child(4),
  #staff .table td:nth-child(4),
  #staff .table th:nth-child(5),
  #staff .table td:nth-child(5),
  #staff .table th:nth-child(6),
  #staff .table td:nth-child(6),
  #staff .table th:nth-child(7),
  #staff .table td:nth-child(7)
  { display:none; }
}

/* 8) Ay seçici modal – mobil genişliğinde */
@media (max-width:640px){
  .overlay .modal{ width:min(95vw,560px); max-height:90vh; overflow:auto; border-radius:16px; }
  .m-grid{ grid-template-columns:repeat(3,1fr); gap:8px; }
  .m-head{ padding:12px; }
  .m-foot{ padding:12px; }
}

/* 9) Daha küçük tipografi */
@media (max-width:480px){
  .header .title{ font-size:16px; }
  .mini .row{ font-size:13px; }
  .card .card-title{ font-size:13px; }
}

/* 10) Bar-menu ikon çizgi kalınlığı */
nav.rail .ico{ stroke-width:1.9; }
