<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>bar-menu</title>
<style id="bar-menu-css">
:root{
  --rail-bg:#151619; --rail-fg:#b9bec7; --rail-active:#fff; --rail-accent:#7c6cff; --rail-hover:#1d1f24; --rail-divider:#2a2d34;
  --sb-border:#e5e7eb; --sb-muted:#6b7280; --sb-green:#10b981;
}

/* RAIL */
.rail{
  position:fixed; inset:0 auto 0 0; width:72px; background:var(--rail-bg); color:var(--rail-fg);
  display:flex; flex-direction:column; align-items:center; justify-content:space-between; z-index:1000;
  border-right:1px solid var(--rail-divider); padding:12px 0;
}
.rail__list{list-style:none;margin:0;padding:0;width:100%;flex:1;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}
.rail__item{width:100%;display:flex;justify-content:center}
.rail__btn{
  width:44px;height:44px;display:grid;place-items:center;border-radius:12px;color:var(--rail-fg);text-decoration:none;position:relative;outline:none;
  transition:background .15s,color .15s, box-shadow .15s, transform .06s;
}
.rail__btn:hover{background:var(--rail-hover);color:var(--rail-active)}
/* AKTİF: Mor vurgu */
.rail__btn[aria-current="page"]{
  background:rgba(124,108,255,.12);
  color:var(--rail-accent);
  box-shadow:inset 0 0 0 1px rgba(124,108,255,.35);
}
.rail__btn[aria-current="page"]::before{
  content:"";position:absolute;left:-8px;top:6px;bottom:6px;width:3px;background:var(--rail-accent);border-radius:8px;
}
/* İkon çizgisi mor olsun */
.ico{width:22px;height:22px;stroke:currentColor;fill:none;stroke-width:1.8}
.rail__btn[aria-current="page"] .ico{stroke:var(--rail-accent) !important}
/* Hover/focus’ta moru koru */
.rail__btn[aria-current="page"]:hover,
.rail__btn[aria-current="page"]:focus-visible{color:var(--rail-accent)}

.rail__bottom{display:flex;flex-direction:column;align-items:center;gap:10px}
.avatar-btn{width:42px;height:42px;border-radius:50%;background:#24262c;display:grid;place-items:center;color:#cfd3dc;border:none;cursor:pointer}

/* === Tooltip (baloncuk) — data-tip kullanır === */
.rail__btn[data-tip]::after{
  content:attr(data-tip);
  position:absolute; left:56px; top:50%;
  transform:translateY(-50%) translateX(-6px);
  background:#111; color:#fff; font:600 12px/1 Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  padding:8px 10px; border-radius:8px; white-space:nowrap; box-shadow:0 8px 20px rgba(0,0,0,.25);
  opacity:0; pointer-events:none; transition:opacity .12s ease, transform .12s ease; z-index:10;
}
.rail__btn[data-tip]::before{
  content:""; position:absolute; left:52px; top:50%; transform:translateY(-50%);
  border-width:6px 6px 6px 0; border-style:solid;
  border-color:transparent #111 transparent transparent;
  opacity:0; transition:opacity .12s ease; z-index:10;
}
.rail__btn:hover::after, .rail__btn:focus-visible::after{opacity:1; transform:translateY(-50%) translateX(0)}
.rail__btn:hover::before, .rail__btn:focus-visible::before{opacity:1}

/* Switch Business (benzersiz sb-* sınıfları) */
.sb-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(2px) saturate(120%);display:none;align-items:center;justify-content:center;z-index:4000;padding:24px}
.sb-overlay.show{display:flex}
.sb-modal{width:min(560px,96vw);background:#fff;border:1px solid var(--sb-border);border-radius:16px;box-shadow:0 30px 80px rgba(0,0,0,.25);overflow:hidden;color:#0f172a}
.sb-head{display:flex;align-items:center;gap:10px;padding:14px 16px;border-bottom:1px solid var(--sb-border)}
.sb-x{width:36px;height:36px;border-radius:10px;border:1px solid var(--sb-border);background:#fff;display:grid;place-items:center;cursor:pointer}
.sb-title{font-weight:800;font-size:18px;margin-left:6px}
.sb-body{padding:14px 16px}
.sb-search{position:relative;margin-bottom:12px}
.sb-search input{width:100%;height:42px;border-radius:10px;border:1px solid var(--sb-border);padding:0 12px 0 38px;background:#f7f8fa;outline:none}
.sb-search svg{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:18px;height:18px;stroke:#9aa0a6;fill:none;stroke-width:1.8}
.sb-card{display:flex;align-items:flex-start;gap:12px;padding:12px;border:1px solid var(--sb-border);border-radius:12px;cursor:pointer;margin-bottom:8px;position:relative;transition:box-shadow .15s,border-color .15s}
.sb-card:hover{box-shadow:0 6px 18px rgba(0,0,0,.08);border-color:#d1d5db}
.sb-card[aria-current="true"]{box-shadow:0 0 0 2px rgba(16,185,129,.25) inset}
.sb-dot{width:8px;height:8px;border-radius:50%;background:var(--sb-green)}
.sb-badge{position:absolute;right:12px;top:12px;font-size:12px;color:#065f46;background:#ecfdf5;border:1px solid #a7f3d0;padding:2px 8px;border-radius:999px;font-weight:700;display:none}
.sb-card[aria-current="true"] .sb-badge{display:inline-block}
.sb-sub{color:var(--sb-muted);font-size:12px}
.sb-foot{padding:12px 16px;border-top:1px solid var(--sb-border);display:flex;align-items:center;justify-content:space-between;gap:12px}
.sb-user{display:flex;align-items:center;gap:10px}
.sb-avatar{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;color:#fff;background:#374151;font-weight:800}
.sb-logout{height:38px;padding:0 14px;border-radius:10px;border:1px solid #111;background:#111;color:#fff;font-weight:800;cursor:pointer}
.sb-logout:hover{filter:brightness(.95)}
</style>
</head>
<body>
  <!-- NAV -->
  <nav class="rail">
    <ul class="rail__list">
      <li class="rail__item">
        <a class="rail__btn" href="calendar.html" data-tip="Takvim" aria-label="Takvim">
          <svg class="ico" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="3"/><path d="M16 2v4M8 2v4M3 10h18"/></svg>
        </a>
      </li>
      
      <li class="rail__item">
        <a class="rail__btn" href="staff.html" data-tip="Personel" aria-label="Personel">
          <svg class="ico" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M20 21a8 8 0 1 0-16 0"/></svg>
        </a>
      </li>
      <li class="rail__item">
        <a class="rail__btn" href="settings.html" data-tip="Ayarlar" aria-label="Ayarlar">
          <svg class="ico" viewBox="0 0 24 24"><path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.07a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.07a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 7.02 3.4l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.07a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .67.39 1.28 1 1.51.32.12.66.18 1 .18h.07a2 2 0 0 1 0 4H21a1.65 1.65 0 0 0-1.6 1.31Z"/></svg>
        </a>
      </li>
    </ul>
    <div class="rail__bottom"><button class="avatar-btn" id="openProfile" aria-label="Profil">A</button></div>
  </nav>

  <!-- MODAL (sb-*) -->
  <div class="sb-overlay" id="sbOverlay" aria-hidden="true">
    <div class="sb-modal" role="dialog" aria-modal="true" aria-labelledby="sbTitle">
      <div class="sb-head">
        <button class="sb-x" id="sbClose" aria-label="Kapat">
          <svg class="ico" viewBox="0 0 24 24"><path d="M18 6 6 18M6 6l12 12"/></svg>
        </button>
        <div class="sb-title" id="sbTitle">İşletme Değiştir</div>
      </div>
      <div class="sb-body">
        <div class="sb-search">
          <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
          <input id="sbSearch" type="text" placeholder="Ara..." />
        </div>
        <div id="sbList"></div>
      </div>
      <div class="sb-foot">
        <div class="sb-user">
          <div class="sb-avatar">A</div>
          <div><div>Abdullah</div><div class="sb-sub">Olarak oturum açtınız</div></div>
        </div>
        <button class="sb-logout" id="sbLogout">ÇIKIŞ YAP</button>
      </div>
    </div>
  </div>
</body>
</html>
