<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kuaförler – Arat Türkçe</title>

<link rel="stylesheet" href="css/style.css" />
<link rel="stylesheet" href="css/navbar.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">


</head>
<body>

<!-- ===== TOP BAR ===== -->
<header id="mainTopbar" class="topbar">
  <div class="topbar-inner">
    <a class="logo" href="index.html">~arat</a>
    <div class="searchbar-top">
      <input type="search" placeholder="Hizmet veya işletme ara">
      <input type="search" placeholder="Konum (örn. İstanbul)">
      <input type="search" placeholder="Ne zaman?">
    </div>
    <nav class="menu-right">
      <a href="#" class="open-auth"><i class="fa-regular fa-user"></i> <span class="auth-text">Giriş Yap / Kayıt Ol</span></a>
      <a class="btn-primary" href="isletmeni-listele.html">İşletmeni listele</a>
    </nav>
  </div>

  <nav class="hero-cats">
    <a href="kuafor.html " class="active">Kuaför</a>
    
  </nav>
</header>

<!-- ===== MINI NAV (scroll sonrası) ===== -->
<div id="miniNav" class="mini-nav" aria-hidden="true">
  <div class="mini-inner">
    <a class="mini-logo" href="index.html">~arat</a>
    <div class="mini-search">
      <div class="mini-chip"><span>🔎</span><input placeholder="Hizmet veya işletme ara"></div>
      <div class="mini-chip"><span>📍</span><input placeholder="Konum"></div>
      <div class="mini-chip"><span>🕒</span><input placeholder="Ne zaman?"></div>
    </div>
    <div class="mini-right">
      <a href="#" class="open-auth"><i class="fa-regular fa-user"></i> <span class="auth-text">Giriş Yap / Kayıt Ol</span></a>
      <a class="cta" href="isletmeni-listele.html">İşletmeni listele</a>
    </div>
  </div>
</div>

<!-- mini-nav tetik -->
<div class="sentinel" data-sentinel></div>

<main class="container">

  <!-- filtre/sıralama -->
  <div class="header-row">
    <button class="btn" id="openFilter">Filtreler ▾</button>

    <div class="dropdown" id="sortDD">
      <div class="btn" id="sortBtn">Sırala: Önerilen ▾</div>
      <div class="drop-panel" style="min-width:300px">
        <div class="drop-row active"><span>Önerilen</span><span class="chip-radio"><i></i></span></div>
        <div class="drop-row"><span>Mesafe (en yakın)</span><span class="chip-radio"><i></i></span></div>
        <div class="drop-row"><span>Yorum (en yüksek puan)</span><span class="chip-radio"><i></i></span></div>
      </div>
    </div>
  </div>

  <h1 class="title">Kuaförler – Yakınından Randevu Al</h1>

  <!-- ===== ÖNERİLENLER CAROUSEL ===== -->
  <section class="rec-wrap">
    <div class="rec-ttl">Önerilen Kuaförler</div>
    <div class="rec-viewport" id="recViewport">
      <div class="rec-track" id="recTrack">
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber2.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Sharp & Fade</div><div class="hint">Şişli</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber3.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Loc’nKey</div><div class="hint">Kadıköy</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber4.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Urban Scissors</div><div class="hint">Beşiktaş</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber5.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Ether9 Hair</div><div class="hint">Ataşehir</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber6.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Posh Natural</div><div class="hint">Üsküdar</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber7.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Queer Cuts</div><div class="hint">Beyoğlu</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber8.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Ritual Salon</div><div class="hint">Sarıyer</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber9.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">North End</div><div class="hint">Kağıthane</div></div></a>

        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber2.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Blade & Brush</div><div class="hint">Bakırköy</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber3.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Dockside Barber</div><div class="hint">Maltepe</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber4.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Downtown Cuts</div><div class="hint">Fatih</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber5.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Heritage Hair</div><div class="hint">Ümraniye</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber6.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Studio Luxe</div><div class="hint">Beylikdüzü</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber7.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Gold Comb</div><div class="hint">Başakşehir</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber8.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Silk & Shears</div><div class="hint">Pendik</div></div></a>
        <a class="rec-card" href="ornek-randevu.html"><div class="rec-thumb"><img src="img/berber9.jpeg" alt=""></div><div class="rec-meta"><div style="font-weight:800">Canary Cuts</div><div class="hint">Kartal</div></div></a>
      </div>
    </div>
    <button class="arrow left"  id="recPrev" aria-label="Geri">‹</button>
    <button class="arrow right" id="recNext" aria-label="İleri">›</button>
  </section>

  <!-- ===== LİSTE (örnekler) ===== -->
  <section class="listwrap">
    <!-- 1 -->
    <article class="card">
      <div class="row">
        <div class="thumb"><a href="ornek-randevu.html"><img src="img/berber3.jpeg" alt="Loc’nKey"></a></div>
        <div class="meta">
          <div class="topline"><span class="tag">Promoted</span></div>
          <div class="name">Loc’nKey</div>
          <div class="addr">0.7 km • Kadıköy, Moda Cd.</div>
          <div class="svc">
            <div class="line"><span>Size gelirim</span><span class="fee">₺6.000+ • 2s 30dk</span><a class="book" href="ornek-randevu.html">Randevu al</a></div>
            <div class="line"><span>İki bağlama</span><span class="fee">₺4.500+ • 3s</span><a class="book" href="ornek-randevu.html">Randevu al</a></div>
            <div class="line"><span>Sadece retwist</span><span class="fee">₺2.700+ • 1s 35dk</span><a class="book" href="ornek-randevu.html">Randevu al</a></div>
          </div>
        </div>
      </div>
    </article>

    <!-- 2 -->
    <article class="card">
      <div class="row">
        <div class="thumb"><a href="ornek-randevu.html"><img src="img/berber6.jpeg" alt="African Twin Hair Braiding"></a></div>
        <div class="meta">
          <div class="topline"></div>
          <div class="name">African Twin Hair Braiding</div>
          <div class="addr">0.9 km • Üsküdar, Bağlarbaşı</div>
          <div class="svc">
            <div class="line"><span>Orta kutu örgü</span><span class="fee">₺9.500+ • 4s</span><a class="book" href="ornek-randevu.html">Randevu al</a></div>
            <div class="line"><span>Mikro örgü</span><span class="fee">₺12.000+ • 5s</span><a class="book" href="ornek-randevu.html">Randevu al</a></div>
          </div>
        </div>
      </div>
    </article>
    <!-- ... diğer kartlar değişmeden ... -->
  </section>

  <nav class="pagination" id="pagination">
    <button class="page" data-nav="prev">‹</button>
    <button class="page active" data-page="1">1</button>
    <button class="page" data-page="2">2</button>
    <button class="page" data-page="3">3</button>
    <span class="page" style="pointer-events:none">…</span>
    <button class="page" data-page="9">9</button>
    <button class="page" data-nav="next">›</button>
  </nav>
</main>

<footer class="container" style="padding:28px 20px 40px;color:var(--muted)">
  © 2025 Arat Türkçe. Tüm hakları saklıdır.
</footer>

<!-- ====== TOAST ====== -->
<div id="toast" class="toast" role="status" aria-live="polite">Giriş yapıldı</div>

<!-- ====== AUTH MODAL (birebir) ====== -->
<div id="authModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="loginRegisterTitle">
  <div class="modal-box">
    <button class="modal-close" aria-label="Kapat"><i class="fas fa-times"></i></button>

    <div class="auth-container">
      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="login">Giriş Yap</button>
        <button class="auth-tab" data-tab="signup">Kayıt Ol</button>
      </div>

      <div class="oauth-stack">
        <button type="button" class="google-btn" id="googleSignIn">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="" aria-hidden="true">
          Google ile devam et
        </button>
        <div class="divider">veya e-posta ile</div>
      </div>

      <form id="loginForm" class="auth-form active" data-form="login">
        <h2>Giriş Yap</h2>
        <input type="email" name="email" placeholder="E-posta" required />
        <input type="password" name="password" placeholder="Şifre" required />
        <div id="loginError" class="error"></div>
        <button type="submit" class="auth-btn">Giriş Yap</button>
      </form>

      <form id="signupForm" class="auth-form" data-form="signup">
        <h2>Kayıt Ol</h2>
        <input type="email" name="email" placeholder="E-posta" required />
        <input type="password" name="password" placeholder="Şifre" required />
        <input type="password" name="confirm" placeholder="Şifre Tekrar" required />
        <div id="signupError" class="error"></div>
        <button type="submit" class="auth-btn">Kayıt Ol</button>
      </form>
    </div>
  </div>
</div>

<!-- ====== FİLTRE MODALI ====== -->
<div id="filterModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="filterTitle">
  <div class="modal-box filter-box">
    <button class="modal-close" data-close="filter" aria-label="Kapat"><i class="fas fa-times"></i></button>
    <h3 id="filterTitle" class="filter-title">Konum filtresi</h3>
    <div class="filter-row" style="margin-top:8px">
      <select id="citySel" class="fsel" aria-label="Şehir">
        <option value="" selected>Şehir seç</option>
      </select>
      <select id="districtSel" class="fsel" aria-label="İlçe" disabled>
        <option value="">Önce şehir seçin</option>
      </select>
      <select id="neighSel" class="fsel" aria-label="Mahalle" disabled>
        <option value="">Önce ilçe seçin</option>
      </select>
    </div>
    <div class="filter-actions">
      <button type="button" id="clearFilters" class="btn-clear">Temizle</button>
      <button type="button" id="applyFilters" class="btn-apply">Uygula</button>
    </div>
  </div>
</div>
<link rel="stylesheet" href="css/kuafor2.css" />
<!-- Firebase auth (ortak) -->
<script type="module" src="js/auth.js"></script>

<script>
  /* Mini navbar görünümü */
  (function(){
    const mini=document.getElementById('miniNav');
    const sentinel=document.querySelector('[data-sentinel]');
    if(!mini||!sentinel) return;
    const io=new IntersectionObserver((entries)=>entries.forEach(e=>{
      if(e.isIntersecting){ mini.classList.remove('show'); mini.setAttribute('aria-hidden','true'); }
      else{ mini.classList.add('show'); mini.setAttribute('aria-hidden','false'); }
    }),{rootMargin:'-80px 0px 0px 0px',threshold:0.01});
    io.observe(sentinel);
  })();

  /* Sıralama dropdown */
  (function(){
    const dd=document.getElementById('sortDD'); if(!dd) return;
    const btn=dd.querySelector('.btn'); const panel=dd.querySelector('.drop-panel');
    btn.addEventListener('click',()=>dd.classList.toggle('open'));
    document.addEventListener('click',(e)=>{ if(!dd.contains(e.target)) dd.classList.remove('open'); });
    panel.querySelectorAll('.drop-row').forEach(r=>r.addEventListener('click',()=>{
      panel.querySelectorAll('.drop-row').forEach(x=>x.classList.remove('active'));
      r.classList.add('active');
      const label=r.querySelector('span').textContent.trim();
      document.getElementById('sortBtn').textContent='Sırala: '+label+' ▾';
    }));
  })();

  /* Pagination (UI) */
  (function(){
    const pag=document.getElementById('pagination'); if(!pag) return;
    function cur(){ return +pag.querySelector('.page.active')?.dataset.page || 1; }
    function setActive(p){
      pag.querySelectorAll('.page[data-page]').forEach(b=>b.classList.toggle('active', +b.dataset.page===p));
      pag.querySelector('[data-nav="prev"]').toggleAttribute('disabled', p===1);
      pag.querySelector('[data-nav="next"]').toggleAttribute('disabled', p===9);
    }
    pag.addEventListener('click',(e)=>{
      const t=e.target.closest('.page'); if(!t || t.hasAttribute('disabled')) return;
      if(t.dataset.page) setActive(+t.dataset.page);
      if(t.dataset.nav==='prev') setActive(Math.max(1, cur()-1));
      if(t.dataset.nav==='next') setActive(Math.min(9, cur()+1));
      window.scrollTo({top:0,behavior:'smooth'});
    });
    setActive(1);
  })();

  /* Önerilenler: oklar, wheel scroll, autoplay */
  (function(){
    const vp=document.getElementById('recViewport');
    const prev=document.getElementById('recPrev');
    const next=document.getElementById('recNext');
    if(!vp) return;
    const step=300; let timer=null;
    function go(dir=1){ vp.scrollBy({left: dir*step, behavior:'smooth'}); }
    prev?.addEventListener('click', ()=>go(-1));
    next?.addEventListener('click', ()=>go(1));
    vp.addEventListener('wheel', (e)=>{
      if(Math.abs(e.deltaY) > Math.abs(e.deltaX)){
        e.preventDefault();
        vp.scrollBy({left: e.deltaY, behavior:'smooth'});
      }
    }, {passive:false});
    function start(){ timer=setInterval(()=>go(1), 2800); }
    function stop(){ clearInterval(timer); timer=null; }
    vp.addEventListener('mouseenter', stop);
    vp.addEventListener('mouseleave', start);
    start();
  })();

  /* AUTH MODAL aç/kapat + tablar (birebir) */
  (function(){
    const overlay = document.getElementById("authModal");
    if(!overlay) return;
    const openers = document.querySelectorAll(".open-auth");
    const closeBtn = overlay.querySelector(".modal-close");

    function openModal(){ overlay.classList.add("active"); document.body.classList.add("no-scroll"); }
    function closeModal(){ overlay.classList.remove("active"); document.body.classList.remove("no-scroll"); }

    openers.forEach(b => b.addEventListener("click", (e)=>{ e.preventDefault(); openModal(); }));
    closeBtn && closeBtn.addEventListener("click", closeModal);
    overlay.addEventListener("click", (e)=>{ if(e.target === overlay) closeModal(); });
    document.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeModal(); });

    document.querySelectorAll(".auth-tab").forEach((btn)=>{
      btn.addEventListener("click", ()=>{
        const tab = btn.dataset.tab;
        document.querySelectorAll(".auth-tab").forEach(b=>b.classList.toggle("active", b===btn));
        document.querySelectorAll(".auth-form").forEach(f=>f.classList.toggle("active", f.dataset.form===tab));
      });
    });
  })();

  /* FİLTRE MODALI: aç/kapa + kademeli select */
  (function(){
    const overlay = document.getElementById('filterModal');
    const openBtn = document.getElementById('openFilter');
    const closeBtn = overlay?.querySelector('[data-close="filter"]');
    if(!overlay || !openBtn) return;

    function open(){ overlay.classList.add('active'); document.body.classList.add('no-scroll'); }
    function close(){ overlay.classList.remove('active'); document.body.classList.remove('no-scroll'); }

    openBtn.addEventListener('click', open);
    closeBtn && closeBtn.addEventListener('click', close);
    overlay.addEventListener('click', (e)=>{ if(e.target===overlay) close(); });
    document.addEventListener('keydown',(e)=>{ if(e.key==='Escape') close(); });

    const DATA = {
      "İstanbul":{
        "Kadıköy":["Moda","Fenerbahçe","Kozyatağı","Bostancı"],
        "Beşiktaş":["Levent","Etiler","Akatlar","Ihlamur"],
        "Beyoğlu":["Cihangir","Tarlabaşı","Galata","Kasımpaşa"],
        "Üsküdar":["Bağlarbaşı","Kuzguncuk","Çengelköy","Beylerbeyi"]
      },
      "Ankara":{
        "Çankaya":["Kızılay","GOP","Ayrancı","Yıldız"],
        "Keçiören":["Etlik","Kavacık","Ayvalı"],
        "Yenimahalle":["Demetevler","Ragıp Tüzün","Şentepe"]
      },
      "İzmir":{
        "Konak":["Alsancak","Güzelyalı","Göztepe"],
        "Karşıyaka":["Bostanlı","Mavişehir","Alaybey"],
        "Bornova":["Işıkken","Kazımdirik","Erzene"]
      }
    };

    const citySel = document.getElementById('citySel');
    const distSel = document.getElementById('districtSel');
    const neighSel = document.getElementById('neighSel');

    function fillSelect(sel, arr, placeholder){
      sel.innerHTML = '';
      const opt0=document.createElement('option');
      opt0.value=''; opt0.textContent=placeholder;
      sel.appendChild(opt0);
      arr.forEach(v=>{
        const o=document.createElement('option');
        o.value=v; o.textContent=v;
        sel.appendChild(o);
      });
    }

    fillSelect(citySel, Object.keys(DATA), 'Şehir seç');

    citySel.addEventListener('change', ()=>{
      const city=citySel.value;
      if(!city){ distSel.disabled=true; neighSel.disabled=true; fillSelect(distSel, [], 'Önce şehir seçin'); fillSelect(neighSel, [], 'Önce ilçe seçin'); return; }
      const districts = Object.keys(DATA[city]);
      fillSelect(distSel, districts, 'İlçe seç');
      distSel.disabled = false;
      neighSel.disabled = true;
      fillSelect(neighSel, [], 'Önce ilçe seçin');
    });

    distSel.addEventListener('change', ()=>{
      const city=citySel.value, dist=distSel.value;
      if(!city || !dist){ neighSel.disabled=true; fillSelect(neighSel, [], 'Önce ilçe seçin'); return; }
      const neighs = DATA[city][dist] || [];
      fillSelect(neighSel, neighs, 'Mahalle seç');
      neighSel.disabled = false;
    });

    const clearBtn = document.getElementById('clearFilters');
    const applyBtn = document.getElementById('applyFilters');

    clearBtn.addEventListener('click', ()=>{
      citySel.value=''; distSel.value=''; neighSel.value='';
      distSel.disabled=true; neighSel.disabled=true;
      fillSelect(distSel, [], 'Önce şehir seçin');
      fillSelect(neighSel, [], 'Önce ilçe seçin');
      const b=document.querySelector('#openFilter .badge'); if(b) b.remove();
    });

    applyBtn.addEventListener('click', ()=>{
      const city=citySel.value || null;
      const dist=distSel.value || null;
      const neigh=neighSel.value || null;
      const summary = [city, dist, neigh].filter(Boolean).join(' / ');
      let badge=document.querySelector('#openFilter .badge');
      if(summary){
        if(!badge){ badge=document.createElement('span'); badge.className='badge'; document.getElementById('openFilter').appendChild(badge); }
        badge.textContent = summary.length>28 ? (summary.slice(0,27)+'…') : summary;
      }else{ if(badge) badge.remove(); }
      overlay.classList.remove('active'); document.body.classList.remove('no-scroll');
    });
  })();
</script>
</body>
</html>
